{% extends 'base.html.twig' %}


{% block body %}
    <div class="row">
        <div class="col-md-12">
            {% if companies|length > 0 %}
               <table class="table table-striped">
                    <tr>
                        <td>ID</td>
                        <td>Company</td>
                        <td>Number</td>
                        <td>Address</td>
                        <td>Contact</td>
                        <td>Phone</td>
                        <td></td>
                    </tr>
                    {% for item in companies %}
                        <tr>
                            <td>{{ item.id }}</td>
                            <td>{{ item.name }}</td>
                            <td>{{ item.orgCode }}</td>
                            <td>{{ item.address }}</td>
                            <td>{{ item.contact }}</td>
                            <td>{{ item.phone }}</td>
                            <td style="position: relative;">
                                <a href="{{ path('rejectedCom', { "id":item.id }) }}" type="button" class="btn btn-default btn-sm" aria-label="Left Align">
                                    <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span>
                                </a>
                                <a href="{{ path('edit_company', { "id":item.id }) }}" type="button" class="btn btn-default btn-sm" aria-label="Left Align">
                                    <span class="glyphicon glyphicon glyphicon-cog" aria-hidden="true"></span>
                                </a>
                            </td>
                        </tr>
                    {% endfor %}
                </table>
                <div class="row">
                    <div class="col-md-12 text-center">
                        {{ knp_pagination_render(companies) }}
                    </div>
                </div>
            {% else %}
                <h2>No companies found</h2>
            {% endif %}
        </div>
        {% if company.id is not null %}
        <div style="background: #e6e6e6;" class="col-md-12">
            <div>
                {% if company %}
                    <h2>Selected company</h2>
                    <p>Company name: {{ company.name }}</p>
                    <p>Org. Number: {{ company.orgCode }}</p>
                    <p>Company id: {{ company.id }}</p>
                {% endif %}
                <ul class="list-inline">
                    {% for step in steps() %}
                        {% if step.id > 1 %}
                            <li><a {% if company.step.id >= step.id %}disabled="disabled"{% endif %} class="{% if company.step.id >= step.id %} btn-success {% endif %}btn btn-default btn-sm text-uppercase" href="{{ path('set_step', { 'stepId':step.id, "id":company.id }) }}"> {{ step.name }} </a></li>
                        {% endif %}
                    {% endfor %}
                </ul>
            </div>
        </div>
        {% endif %}
    </div>


{% endblock %}